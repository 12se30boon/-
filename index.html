# -
다트 잘 던져라
<! DOCTYPE html>
<HTML 랑="코">
<헤드>
    <메타 샤르셋="UTF-8">
    <메타 이름="뷰포트" 내용="width=device-width, initial-scale=1.0">
    <제목>다트 지구본 게임</제목>
    <스크립트 SRC="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></스크립트>
    <스크립트 SRC="https://cdn.jsdelivr.net/npm/globe.gl@2.20.0"></스크립트>
    <스타일>
 본문 { 여백: 0; 오버플로우: 숨김; 텍스트 정렬: 중심; } 
 # 결과 {위치: 절대; 상단: 10px; 왼쪽: 50%; 변환: 번역X(-50%); 배경: rgba(0, 0, 0, 0.7); 색상: 흰색; 패딩: 10px; 테두리-반경: 5px; } 
 # 던지버튼 {위치: 절대; 하단: 20px; 왼쪽: 50%; 변환: translx(-50%); 패딩: 10px 20px; 폰트 크기: 18px; 커서: 포인터; 배경: #3498db; 색상: 흰색; 테두리: 없음; 테두리-반경: 5px; } 
    </스타일>
</헤드>
<본체>
    <DIV ID=결과.>환생할 국가를 정하세요!</DIV>
    <버튼 ID="쓰로우버튼">다트 던지기</버튼>
    <스크립트>
 const globe = Globe() 
              . globeImageUrl('//unpkg.com/three-globe/example/img/earth-blue-marble.jpg') 
              . bumpImageUrl('//unpkg.com/three-globe/example/img/earth-topology.png') 
 (document.body); 

 globe.controls().autoRotate = true; 
 globe.controls().autoRotateSpeed = 1.5; 

         // 나라 데이터 불러오기 (JSON) 
 let countries = []; 
 페치("https://raw.githubusercontent.com/lukes/ISO-3166-Countries-with-Regional-Codes/master/all/all.json") 
 . then(response => response.json()) 
 . then(data => { 
 국가=data.map(country=>) ({ 
 이름: 나라.이름, 
 lat: parseFloat(country.latitude), 
 lng: parseFloat(country.longitude) 
                 })); 
             }); 

 함수 throwDart() { 
 if (countries.length ===0) { 
                 alert("데이터 로딩 중... 잠시 후 다시 시도해주세요."); 
 반환; 
             } 

 const randomIndex = Math.floor(Math.random() * 국가.길이); 
 const country = countries[randomIndex]; 

 document.getElementById('result').innerText = "trapt가 꽂힌 곳: ${country.name}"; 

             // 지구본에 빨간 점 추가 
 globe.pointsData([{ lat: country.lat, lng: country.lng, size: 0.5, color: 'red' }]); 
         } 

 document.getElementById('throwButton').addEventListener('클릭', throwDart); 
    </스크립트>
</본체>
</html>
